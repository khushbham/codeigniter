tinymce.PluginManager.add("autoresize",function(e){function t(n){var s,u,a=e.getDoc(),f=a.body,l=a.documentElement,c=tinymce.DOM,h=r.autoresize_min_height;"setcontent"==n.type&&n.initial||e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()||(u=tinymce.Env.ie?f.scrollHeight:tinymce.Env.webkit&&0===f.clientHeight?0:f.offsetHeight,u>r.autoresize_min_height&&(h=u),r.autoresize_max_height&&u>r.autoresize_max_height?(h=r.autoresize_max_height,f.style.overflowY="auto",l.style.overflowY="auto"):(f.style.overflowY="hidden",l.style.overflowY="hidden",f.scrollTop=0),h!==i&&(s=h-i,c.setStyle(c.get(e.id+"_ifr"),"height",h+"px"),i=h,tinymce.isWebKit&&0>s&&t(n)))}function n(e,r,i){setTimeout(function(){t({}),e--?n(e,r,i):i&&i()},r)}var r=e.settings,i=0;e.settings.inline||(r.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10),r.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10),e.on("init",function(){e.dom.setStyle(e.getBody(),"paddingBottom",e.getParam("autoresize_bottom_margin",50)+"px")}),e.on("change setcontent paste keyup",t),e.getParam("autoresize_on_init",!0)&&e.on("init",function(){n(20,100,function(){n(5,1e3)})}),e.addCommand("mceAutoResize",t))});