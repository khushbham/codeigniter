tinymce.PluginManager.add("contextmenu",function(e){var t,n=e.settings.contextmenu_never_use_native;e.on("contextmenu",function(r){var i;if(!r.ctrlKey||n){if(r.preventDefault(),i=e.settings.contextmenu||"link image inserttable | cell row column deletetable",t)t.show();else{var s=[];tinymce.each(i.split(/[ ,]/),function(t){var n=e.menuItems[t];"|"==t&&(n={text:t}),n&&(n.shortcut="",s.push(n))});for(var o=0;o<s.length;o++)"|"==s[o].text&&(0===o||o==s.length-1)&&s.splice(o,1);t=new tinymce.ui.Menu({items:s,context:"contextmenu"}),t.addClass("contextmenu"),t.renderTo(document.body),e.on("remove",function(){t.remove(),t=null})}var u={x:r.pageX,y:r.pageY};e.inline||(u=tinymce.DOM.getPos(e.getContentAreaContainer()),u.x+=r.clientX,u.y+=r.clientY),t.moveTo(u.x,u.y)}})});